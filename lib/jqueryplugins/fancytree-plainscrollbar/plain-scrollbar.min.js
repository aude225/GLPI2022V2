/*!
 * PlainScrollbar JavaScript Library v1.0.0-rc.0
 * https://github.com/ewya/PlainScrollbar
 *
 * Copyright Kay Schewe <https://www.kayschewe.de>
 * Released under the MIT license
 * https://github.com/ewya/PlainScrollbar/blob/master/LICENSE
 */
export default function PlainScrollbar(e){"use strict";var t=null,a=null,i={alwaysVisible:true,arrows:false,enabled:true,movePageByPageOnAreaClick:true,numberOfItems:{start:0,total:0,visible:0},onScrollable:null,onSet:null,scrollbarElement:null,sliderMinSize:20,wheelSpeed:2},r=null,n=null,l=null,s=false,o=null,u=null,f=["horizontal","vertical"],c=null,b=null,d=null,m=null,v=null,p=0,h=null;function w(e,t){Object.keys(t).forEach((function(a){e[a]=t[a]}));return e}function y(e,t){if(!e.hasOwnProperty("source")||!e.hasOwnProperty("type")||!e.hasOwnProperty("value")){return false}var i=isNaN(e.value)?0:parseFloat(e.value),r=t!==true;var n=m.getBoundingClientRect()[u],o=a.numberOfItems.total===0?0:n/a.numberOfItems.total,f=v.getBoundingClientRect()[u],b=Math.max(a.sliderMinSize,a.numberOfItems.visible*o),d=parseFloat(v.style[h]),w=Math.max(0,n-b),y=0,O=d;switch(e.type){case"delta":O=d+i;break;case"x":case"y":O=i-(s&&p?p:0);break}if(O<y){O=y}if(O>w){O=w}l=a.numberOfItems.total>a.numberOfItems.visible&&n>a.sliderMinSize;a.numberOfItems.start=0===w?0:(a.numberOfItems.total-a.numberOfItems.visible)/w*O;if(d!==O){v.style[h]=O+"px"}if(f!==b){v.style[u]=b+"px"}var g=c.getAttribute("data-scrollable"),I=null;if("true"===g){I=true}else if("false"===g){I=false}if(I!==l){c.setAttribute("data-scrollable",l);if(r){if("function"===typeof a.onScrollable){a.onScrollable({orientation:a.orientation,before:I,current:l})}}}if(r){if("function"===typeof a.onSet){a.onSet({start:a.numberOfItems.start,total:a.numberOfItems.total,visible:a.numberOfItems.visible})}}return true}function O(e){e=parseFloat(e);var t=a.numberOfItems.total-a.numberOfItems.visible,i=0;if(e<i){e=i}if(e>t){e=t}var r={source:"start",type:"",value:0};if("horizontal"===a.orientation){r.type="x"}else if("vertical"===a.orientation){r.type="y"}if(a.numberOfItems.total===0){return r}var n=m.getBoundingClientRect()[u],l=n/a.numberOfItems.total,s=Math.max(a.sliderMinSize,a.numberOfItems.visible*l),o=Math.max(0,n-s);r.value=o===0?0:o/(a.numberOfItems.total-a.numberOfItems.visible)*e;return r}function g(e){var t={source:"event",type:"",value:0};switch(e.type){case"mousedown":case"mousemove":case"mouseup":if("horizontal"===a.orientation){t.type="x";t.value=e.pageX-m.getBoundingClientRect()[h]}else if("vertical"===a.orientation){t.type="y";t.value=e.pageY-m.getBoundingClientRect()[h]}break;case"wheel":t.type="delta";if("horizontal"===a.orientation){t.value=0<e.deltaX?1:-1}else if("vertical"===a.orientation){t.value=0<e.deltaY?1:-1}t.value*=a.wheelSpeed;break;default:t.source=""}return t}function I(e){if(!n){return}e.preventDefault();c.setAttribute("data-visible",true)}function E(e){if(!n){return}e.preventDefault();if(!s&&!a.alwaysVisible){c.setAttribute("data-visible",false)}}function k(e){if(!n||s){return}e.preventDefault();if(a.movePageByPageOnAreaClick){var t=a.numberOfItems.start,i=a.numberOfItems.visible,r=parseFloat(v.style[h]),l=r;switch(a.orientation){case"horizontal":l=e.offsetX;break;case"vertical":l=e.offsetY;break}if(l<r){t-=i}if(l>r){t+=i}y(O(t),false)}else{y(g(e),false)}}function P(e){if(!s){return}e.preventDefault();if(n){y(g(e),false)}s=false}function L(e){if(!n||s){return}e.preventDefault();clearTimeout(r);o=true;y(g(e),false);o=false}function S(e){if(!n){return}e.preventDefault();clearTimeout(r);s=true;p=0;if("horizontal"===a.orientation){p=e.offsetX}else if("vertical"===a.orientation){p=e.offsetY}}function z(e){if(!n||!s){return}clearTimeout(r);r=setTimeout((function(){y(g(e),false)}),1)}function A(e){if(!s){return}clearTimeout(r);if(!a.alwaysVisible){c.setAttribute("data-visible",false)}if(n){y(g(e),false)}s=false}function C(e){if(!n){return}e.preventDefault();var t=a.numberOfItems.start-1;y(O(t),false)}function x(e){if(!n){return}e.preventDefault();var t=a.numberOfItems.start+1;y(O(t),false)}this.alwaysVisible=function(e){a.alwaysVisible=Boolean(e);c.setAttribute("data-visible",a.alwaysVisible)};this.enabled=function(e){n=Boolean(e);c.setAttribute("data-enabled",n)};this.isEnabled=function(){return n};this.isScrollable=function(){return l};this.set=function(e,t){if(s||o){return false}if(!n){t=true}var i=null;switch(typeof e){case"object":i=g(e);if("event"===i.source){return y(i,t)}if(e.hasOwnProperty("start")&&!isNaN(e.start)&&e.hasOwnProperty("total")&&!isNaN(e.total)&&e.hasOwnProperty("visible")&&!isNaN(e.visible)){a.numberOfItems=w(a.numberOfItems,{start:e.start,total:e.total,visible:e.visible});i=O(a.numberOfItems.start);return y(i,t)}break;case"string":i=O(e);if("start"===i.source){return y(i,t)}break}return false};if(!e){throw"Missing customConfiguration!"}if(!e.hasOwnProperty("scrollbarElement")||!e.scrollbarElement||e.scrollbarElement.hasOwnProperty("nodeName")){throw"Missing valid configuration.scrollbarElement!"}if(!e.hasOwnProperty("orientation")||f.indexOf(e.orientation)===-1){throw"Missing valid configuration.orientation!"}a=w(i,e);c=a.scrollbarElement;b=c.ownerDocument;var B=["plain-scrollbar","scrollbar-"+a.orientation];if("horizontal"===a.orientation){u="width";h="left"}else if("vertical"===a.orientation){u="height";h="top"}n=Boolean(a.enabled);c.setAttribute("data-enabled",n);c.setAttribute("data-scrollable",l);c.setAttribute("data-visible",Boolean(a.alwaysVisible));B.forEach((function(e){c.classList.add(e)}));if(a.arrows){c.classList.add("has-arrows");t={backward:b.createElement("div"),forward:b.createElement("div")};Object.getOwnPropertyNames(t).forEach((function(e){var i="arrow-",r=function(){};switch(e){case"backward":if("horizontal"===a.orientation){i+="left"}else if("vertical"===a.orientation){i+="up"}r=C;break;case"forward":if("horizontal"===a.orientation){i+="right"}else if("vertical"===a.orientation){i+="down"}r=x;break;default:i+="undefined"}var n=t[e];n.classList.add(i);n.appendChild(b.createElement("span"));n.addEventListener("mousedown",r,false);c.appendChild(n)}))}v=b.createElement("div");v.classList.add("slider");v.style[h]="0";v.style[u]="0";v.addEventListener("mousedown",S,false);m=b.createElement("div");m.classList.add("slider-area");m.appendChild(v);m.addEventListener("mousedown",k,false);m.addEventListener("mouseup",P,false);m.addEventListener("wheel",L,false);c.appendChild(m);c.addEventListener("mouseenter",I,false);c.addEventListener("mouseleave",E,false);d=b.defaultView;d.addEventListener("mousemove",z,false);d.addEventListener("mouseup",A,false);y(O(a.numberOfItems.start),false)}